/* Copyright (C) 2012 Sylvain Hamel
Project: https://github.com/redhotsly/safarimobile-multiline-select
MIT Licence: https://raw.github.com/redhotsly/safarimobile-multiline-select/master/licence-mit.txt */
/*global $:false, window:false, navigator:false */(function(){"use strict";function e(){var e=!0,t=this,n='<style type="text/css">    /* styles for the safarimobile-multiline-select plug-in */ \r\n    .multilineselect {border: 1px solid silver; display:inline-block; margin:0px; padding:2px; height: 100px; overflow:auto; width:300px; vertical-align: text-bottom;} \r\n    .multilineselect li {list-style-type: none; list-style-position:inside; margin:0px; padding:0px; cursor:default ; }  \r\n    .multilineselect li a {text-decoration: none; color: black; width: 100%:display:inline-block;}  \r\n    .multilineselect li.selected {color: white; background-color: darkgrey;}  \r\n    .multilineselect li.selected a {color: white; background-color: darkgrey;}  \r\n</style>';t.isSafariMobile=function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)||e},t.selectIsMultiline=function(e){var t=e.attr("size");return t!==undefined&&t!=="1"},t.selectValue=function(e,t){e.children("li").removeClass("selected");var n=e.find('li[data-value="'+t+'"]');n.addClass("selected")},t.createListFromSelectElement=function(e){var n=$('<ul class="multilineselect">'),r=e.attr("id");return r!==undefined&&n.attr("id",r+"_safarimobile"),e.children("option").each(function(t){var r=$(this),i=$("<li>");i.attr("data-value",r.val()),i.html(r.html()),i.click(function(){var t=$(this).attr("data-value");e.val(t),e.change()}),n.append(i)}),e.change(function(){var e=$(this).children("option:selected");t.selectValue(n,e.val())}),n},t.fixForSafariMobile=function(e){if(!t.isSafariMobile())return;$("head").prepend(n),e.each(function(){var e=$(this);e.hide();if(!t.selectIsMultiline(e))return;var n=t.createListFromSelectElement(e);e.after(n)})}}window.SelectConverter=e,$.fn.fixForSafariMobile=function(){var t=new e;return t.fixForSafariMobile(this),this}})();